<h2>Search Products</h2>
Category:
<input id="category">

Price Range:
<input id="min" placeholder="Min Price">
<input id="max" placeholder="Max Price">

Stock:
<select id="stock">
  <option value="">Any</option>
  <option value="Available">Available</option>
  <option value="Out of Stock">Out of Stock</option>
</select>

<button onclick="search()">Search</button>

<div id="results"></div>

<script>
function search() {
  const c = document.getElementById("category").value;
  const min = document.getElementById("min").value;
  const max = document.getElementById("max").value;
  const stock = document.getElementById("stock").value;

  fetch(`/search?category=${c}&min=${min}&max=${max}&stock=${stock}`)
    .then(res => res.json())
    .then(data => {
      let out = "<table border=1><tr><th>ID</th><th>Name</th><th>Price</th></tr>";
      data.forEach(p => {
        out += `<tr><td>${p.id}</td><td>${p.name}</td><td>${p.price}</td></tr>`;
      });
      out += "</table>";
      document.getElementById("results").innerHTML = out;
    });
}
</script>
